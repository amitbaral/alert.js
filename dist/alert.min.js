/*!
 * alert.js v0.0.0-alpha, 25.01.2015
 * Beautifully crafted responsive javascript alert boxes.
 * By Ankit Pokhrel (http://ankitpokhrel.com.np/, @ankitpokhrel)
 * Licenced under MIT
 */
!function(a,b){"use strict";var c=function(){var a={type:"alert",heading:"",subHeading:"",message:"",buttons:{OK:{label:"Ok",attrs:{id:"btn_ok","class":"alert-js-btn alert-js-btn-ok"}},CANCEL:{label:"Cancel",attrs:{id:"btn_cancel","class":"alert-js-btn alert-js-btn-cancel"}}},overlay:!0,effect:"ease-in",wait:0,from:"middle",success:null,cancelled:null,complete:null},g=function(b){var c=this,d=c.artisan,e=JSON.parse(JSON.stringify(a)),g=f.map(e,b);return d.setOptions(g),"alert"===d.options.type&&(d.options.buttons.CANCEL=!1),d.create("layer"),d.create("header"),d.create("mainHeading"),""!==d.options.subHeading&&d.create("subHeading"),d.create("body"),"prompt"===d.options.type&&d.create("input"),d.create("overlay"),b.buttons!==!1&&(d.create("footer"),d.create("okButton"),d.options.buttons.CANCEL!==!1&&d.create("cancelButton")),h(d),d},h=function(a){b.body.appendChild(a.layer),a.layer.appendChild(a.header),a.layer.appendChild(a.body),i(a.header,a.heading),i(a.header,a.subHeading),i(a.body,a.input),i(a.layer,a.footer),null!==a.footer&&null!==a.okButton&&(a.footer.appendChild(a.okButton),l(a.okButton,"click",function(){j(!0)})),null!==a.footer&&null!==a.cancelButton&&(a.footer.appendChild(a.cancelButton),l(a.cancelButton,"click",function(){j(!1)}))},i=function(a,b){null!==b&&a.appendChild(b)},j=function(a){var b=m(),c=b.artisan.options;b.hide(),a&&null!==c.success?"prompt"===c.type?c.success.call(this,b.artisan.input.value):c.success.apply(this):a||null===c.cancelled||c.cancelled.apply(this),null!==c.complete&&("prompt"===c.type?c.complete.call(this,a,b.artisan.input.value):c.complete.call(this,a))},k=function(){var a=m();Object.keys(a).length>0&&(a=a.artisan,setTimeout(function(){b.body.insertBefore(a.overlay,a.layer),a.options.overlay||(a.overlay.style.visibility="hidden"),b.body.style.overflow="hidden",f.addClass(a.layer,"alert-js-"+a.options.effect,function(){setTimeout(function(){f.removeClass(a.layer,"alert-js-animation-"+a.options.from)},10)})},a.options.wait))},l=function(a,b,c){"function"==typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},m=function(){var a=d.slice(0,1);return a.length>0?a.pop():{}};return{artisan:new e,show:function(a){var b,e=this;return"undefined"!=typeof a.type&&f.inArray(a.type,f.validTypes())||(a.type="alert"),0===d.length?(d.push(new c),b=g.apply(m(),arguments),k()):b=d.slice(0,1),this.artisan=b,e},hide:function(){var a=this,c=a.artisan.layer,e=a.artisan.overlay,g=a.artisan.options;f.addClass(c,"alert-js-animation-"+g.from,function(){d.length>0&&setTimeout(function(){b.body.removeChild(e),b.body.removeChild(c),b.body.style.overflow="",d.splice(0,1)},400)})}}},d=[],e=function(){var a=function(){var a=b.createElement("section");return a.setAttribute("id","alertJS"),a.className="alert-js alert-js-animation-"+this.options.from,a},c=function(){var a=b.createElement("header");return a.setAttribute("id","alertJSheader"),a.className="alert-js-header alert-js-header-primary",a},d=function(){var a=b.createElement("h1");return a.innerHTML=this.options.heading,a},e=function(){var a=b.createElement("h2");return a.innerHTML=this.options.subHeading,a},g=function(){var a=b.createElement("div");return a.setAttribute("id","alertJSbody"),a.className="alert-js-body",a.innerHTML="#"===this.options.message.charAt(0)?f.pick(this.options.message.slice(1),!0).innerHTML:this.options.message,a},h=function(){var a=b.createElement("input");return a.setAttribute("type","text"),a.setAttribute("id","alertJSinput"),a.className="alert-js-input",a},i=function(){var a=b.createElement("footer");return a.setAttribute("id","alertJSfooter"),a.className="alert-js-footer",a},j=function(a){var c=b.createElement("button"),d=this.options.buttons[a];if("object"==typeof d&&f.keyExist("attrs",d))for(var e in d.attrs)"function"!=typeof d.attrs[e]&&d.attrs.hasOwnProperty(e)&&c.setAttribute(e,d.attrs[e]);return c.innerHTML="object"==typeof d&&f.keyExist("label",d)?d.label:"string"==typeof d?d:d.toString(),c},k=function(){return j.call(this,"OK")},l=function(){return j.call(this,"CANCEL")},m=function(){var a=b.createElement("div");return a.className="alert-js-overlay",a};return{layer:null,header:null,heading:null,subHeading:null,body:null,input:null,footer:null,buttons:null,okButton:null,cancelButton:null,overlay:null,options:null,create:function(b){switch(b){case"layer":return this.layer=a.call(this);case"header":return this.header=c.call(this);case"mainHeading":return this.heading=d.call(this);case"subHeading":return this.subHeading=e.call(this);case"body":return this.body=g.call(this);case"input":return this.input=h.call(this);case"footer":return this.footer=i.call(this);case"okButton":return this.okButton=k.call(this);case"cancelButton":return this.cancelButton=l.call(this);case"overlay":return this.overlay=m.call(this)}return!1},setOptions:function(a){this.options=a}}},f={pick:function(a,c){return"undefined"==typeof c?b.querySelectorAll(a):b.getElementById(a)},validTypes:function(){return["alert","confirm","prompt"]},inArray:function(a,b){return"object"!=typeof b?!1:b.indexOf(a)>=0},keyExist:function(a,b){return null!==b&&"object"==typeof b?a in b:!1},map:function(a,b){if("undefined"==typeof b)return a;for(var c in b)a.hasOwnProperty(c)&&(f.inArray(typeof b[c],["string","number","function","boolean"])?a[c]="class"===c?a[c]+" "+b[c]:b[c]:"object"!=typeof b[c]||f.inArray(c,["success","cancelled","complete"])||f.map(a[c],b[c]));return a},addClass:function(a,b,c){var d=a.className;if("string"!=typeof b)for(var e=0;e<b.length;e++)d+=" "+b[e];else d+=" "+b;return a.className=d,"function"==typeof c&&c.apply(null),d},removeClass:function(a,b){for(var c,d=a.className.split(" ");(c=d.indexOf(b))>-1;)d=d.slice(0,c).concat(d.slice(++c));return a.className=d.join(" "),a}};"undefined"==typeof alertjs&&(a.alertjs=new c)}(window,document);